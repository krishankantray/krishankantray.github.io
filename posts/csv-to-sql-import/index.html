<!doctype html><html lang=en>
<head>
<title>CSV to SQL import using Node, Express and React :: Krishankant</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="This is a simple application that gives an idea of how to creak a bulk import of csv files to SQL database.">
<meta name=keywords content=",">
<meta name=robots content="noodp">
<link rel=canonical href=../../posts/csv-to-sql-import/>
<link rel=stylesheet href=../../assets/style.css>
<link rel=apple-touch-icon href=../../img/apple-touch-icon-192x192.png>
<link rel="shortcut icon" href=../../img/favicon/orange.png>
<meta name=twitter:card content="summary">
<meta name=twitter:site content>
<meta name=twitter:creator content>
<meta property="og:locale" content="en">
<meta property="og:type" content="article">
<meta property="og:title" content="CSV to SQL import using Node, Express and React">
<meta property="og:description" content="This is a simple application that gives an idea of how to creak a bulk import of csv files to SQL database.">
<meta property="og:url" content="/posts/csv-to-sql-import/">
<meta property="og:site_name" content="Krishankant">
<meta property="og:image" content="/">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">
<meta property="article:published_time" content="2020-04-19 21:26:17 +0530 +0530">
</head>
<body class=orange>
<div class="container center headings--one-size">
<header class=header>
<div class=header__inner>
<div class=header__logo>
<a href=../../>
<div class=logo>
Krishankant
</div>
</a>
</div>
<div class=menu-trigger>menu</div>
</div>
<nav class=menu>
<ul class="menu__inner menu__inner--desktop">
<li><a href=../../about>About/Resume</a></li>
<li><a href=../../posts>Blog</a></li>
<li><a href=../../contact>Contact</a></li>
<li><a href=../../projects>Projects</a></li>
</ul>
<ul class="menu__inner menu__inner--mobile">
<li><a href=../../about>About/Resume</a></li>
<li><a href=../../posts>Blog</a></li>
<li><a href=../../contact>Contact</a></li>
<li><a href=../../projects>Projects</a></li>
</ul>
</nav>
</header>
<div class=content>
<div class=post>
<h1 class=post-title>
<a href=../../posts/csv-to-sql-import/>CSV to SQL import using Node, Express and React</a></h1>
<div class=post-meta>
<span class=post-date>
2020-04-19
</span>
<span class=post-author>:: Krishankant</span>
</div>
<span class=post-tags>
#<a href=../../tags/react/>React</a>&nbsp;
#<a href=../../tags/node/>Node</a>&nbsp;
#<a href=../../tags/express/>Express</a>&nbsp;
#<a href=../../tags/sql/>SQL</a>&nbsp;
</span>
<div class=post-content><div>
<h1 id=csv-to-sql-import>CSV to SQL import<a href=#csv-to-sql-import class=hanchor arialabel=Anchor>&#8983;</a> </h1>
<p><a href=https://suspicious-carson-2627ba.netlify.app/><img src=https://raw.githubusercontent.com/krishankantray/temp/master/visit_button.JPG alt=N|Solid></a></p>
<p>Github : <a href=https://github.com/krishankantray/csv-to-sql-import-client>Front-End Part</a>
              <a href=https://github.com/krishankantray/csv-to-sql-import-server>Back-End Part</a></p>
<h4 id=what-is-this-app-all-about-><strong>What is this app all about ?</strong><a href=#what-is-this-app-all-about- class=hanchor arialabel=Anchor>&#8983;</a> </h4>
<p>This app allows users to import a .csv file and save it in MySQL. The .csv file needs to be in a specified format, something like this .
Once the data is saved we can see and delete the table data on the front-end.</p>
<h4 id=whats-there-on-back-end-and-front-end-><strong>Whats there on back-end and front-end ?</strong><a href=#whats-there-on-back-end-and-front-end- class=hanchor arialabel=Anchor>&#8983;</a> </h4>
<ul>
<li><strong>Back-End :</strong>
<ul>
<li>NodeJS</li>
<li>ExpressJS</li>
<li>MySQL</li>
</ul>
</li>
<li><strong>Front-End :</strong>
<ul>
<li>ReactJS</li>
</ul>
</li>
</ul>
<p>Here is the SQL table structure :</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int(11)</td>
</tr>
<tr>
<td>level_col</td>
<td>varchar(255)</td>
</tr>
<tr>
<td>cvss</td>
<td>varchar(255)</td>
</tr>
<tr>
<td>title</td>
<td>varchar(255)</td>
</tr>
<tr>
<td>vulnerability</td>
<td>varchar(255)</td>
</tr>
<tr>
<td>solution</td>
<td>varchar(255)</td>
</tr>
<tr>
<td>reference_col</td>
<td>varchar(255)</td>
</tr>
</tbody>
</table>
<h4 id=where-is-it-deployed-><strong>Where is it deployed ?</strong><a href=#where-is-it-deployed- class=hanchor arialabel=Anchor>&#8983;</a> </h4>
<p>Client side app ( React app ) is deployed on <a href=https://www.netlify.com/>Netlify</a>
Server side app ( Node app ) is deployed on <a href=https://www.heroku.com/>Heroku</a>
MySQL database is deployed on Remote <a href=https://remotemysql.com/>Mysql</a></p>
<h4 id=how-to-run-it-locally->How to run it locally ?<a href=#how-to-run-it-locally- class=hanchor arialabel=Anchor>&#8983;</a> </h4>
<p>To run it locally we need to clone two git repositories, one for the server and other for the client ( front-end).</p>
<h5 id=to-clone-the-client-repo->To clone the client repo :<a href=#to-clone-the-client-repo- class=hanchor arialabel=Anchor>&#8983;</a> </h5>
<p><code>git clone https://github.com/krishankantray/csv-to-sql-import-client.git </code></p>
<h5 id=to-clone-the-server-repo->To clone the server repo :<a href=#to-clone-the-server-repo- class=hanchor arialabel=Anchor>&#8983;</a> </h5>
<p><code>git clone https://github.com/krishankantray/csv-to-sql-import-server.git</code></p>
<p>The above git setup is for online server auto deployment on <strong>Heroku</strong> and <strong>Netlify</strong> .
We need to make some changes in it to run it locally.</p>
<h5 id=first-we-setup-the-server-locally-->First we setup the server locally :<a href=#first-we-setup-the-server-locally-- class=hanchor arialabel=Anchor>&#8983;</a> </h5>
<ul>
<li>Open the directory : <code>csv-to-sql-import-server</code> , in any vscode or any other editor.</li>
<li>If you have a local MySql db then do replace the details in the <code>app>>config>>db.config.js</code>
If you don&rsquo;t have a local MySql db then leave it as it is.</li>
</ul>
<p>Now, open terminal ( <em>in the directory</em> : csv-to-sql-import-server ):</p>
<p><code>npm install</code>
<code>npm start</code>
It should print in terminal : <code>Server is running on port 9000.</code></p>
<blockquote>
<p>( Make sure there is nothing previously running on port 9000, if there is then change the >port from line 25 of server.js )</p>
</blockquote>
<p><strong>To test if all APIs are working, open postman and use following APIs</strong></p>
<ul>
<li>
<p>GET call for obtaining all the records, url should be :<code>http://localhost:9000/customers/</code>.</p>
</li>
<li>
<p>GET call for single records by id, for eg : <code>http://localhost:9000/customers/963</code></p>
</li>
<li>
<p>POST call for bulk create records : <code>http://localhost:9000/bulkcreate</code> This call needs a body to be passed</p>
</li>
<li>
<p>POST call for single create records <code>http://localhost:9000/customers</code> This call needs a body to be passed</p>
</li>
<li>
<p>DELETE call for all records deletion <code>http://localhost:9000/customers </code></p>
</li>
<li>
<p>DELETE call for records deletion <code>http://localhost:9000/customers/963 </code></p>
</li>
<li>
<p>PUT call to update a single record <code>http://localhost:9000/customers/963 </code></p>
</li>
</ul>
<h5 id=now-we-will-configure-the-local-front-end--react-app-->Now, we will configure the local front-end ( React app ) :<a href=#now-we-will-configure-the-local-front-end--react-app-- class=hanchor arialabel=Anchor>&#8983;</a> </h5>
<p>We only need to make some changes in App.js within src directory.
Just change the line 35 , 69 and 97, i.e we need to change the URL of all the fetch calls from Apps.js.</p>
<p><em>For Example :</em></p>
<blockquote>
<p>35 : Before <a href=https://csv-to-sql-import.herokuapp.com/bulkcreate>https://csv-to-sql-import.herokuapp.com/bulkcreate</a>
35 : After http:localhost:9000/bulkcreate</p>
</blockquote>
<p>Similarly for line 69 and 97 , just replace this part of URL -
<a href=https://csv-to-sql-import.herokuapp.com>https://csv-to-sql-import.herokuapp.com</a>
with
http:localhost:9000</p>
<p>and rest of the part of url remains same.</p>
</div></div>
<div class=pagination>
<div class=pagination__title>
<span class=pagination__title-h>Read other posts</span>
<hr>
</div>
<div class=pagination__buttons>
<span class="button previous">
<a href=../../posts/javascript-tricky-interview-questions/>
<span class=button__icon>←</span>
<span class=button__text>Javascript tricky interview questions</span>
</a>
</span>
<span class="button next">
<a href=../../posts/2020-04-03-kadanes-algorithm/>
<span class=button__text>Kadane's Algorithm</span>
<span class=button__icon>→</span>
</a>
</span>
</div>
</div>
</div>
</div>
<footer class=footer>
<div class=footer__inner>
<p></p>
</div>
</footer>
<script src=../../assets/main.js></script>
<script src=../../assets/prism.js></script>
</div>
</body>
</html>